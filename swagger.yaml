openapi: 3.1.0
info:
  title: backend
  description: Hound's backend API
  license:
    name: CNPL
    url: https://raw.githubusercontent.com/houndapp/src/refs/heads/main/LICENCE?token=GHSAT0AAAAAADONFUAYBK6ECB5JNROCM6Q22KOPY3A
  version: 0.1.0
servers:
- url: https://api.hound.chat
  description: production
- url: http://127.0.0.1:8080
  description: local development
paths:
  /.well-known/webauthn:
    get:
      tags:
      - well-known
      summary: Returns the WebAuthn relying party configuration.
      operationId: webauthn
      responses:
        '200':
          description: WebAuthn RPID and allowed origins
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WebAuthnResponse'
  /auth/login/finish:
    post:
      tags:
      - auth
      summary: Completes the ceremony to login a user to hound.chat with an existing passkey.
      operationId: finish_login
      requestBody:
        description: Passkey credential to complete authentication
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FinishLoginRequest'
            example:
              user_id: 018c5b6e-0000-7000-0000-000000000001
              credential:
                id: credential-id
                type: public-key
                response:
                  clientDataJSON: base64
                  authenticatorData: base64
                  signature: base64
        required: true
      responses:
        '200':
          description: login request accepted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FinishLoginResponse'
        '400':
          description: invalid passkey challenge
        '422':
          description: invalid parameters in request
        '500':
          description: couldn't create JWT token
  /auth/login/start:
    post:
      tags:
      - auth
      summary: Starts the ceremony to login a user to hound.chat with an existing passkey.
      operationId: start_login
      requestBody:
        description: Email address of the user to authenticate
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartLoginRequest'
        required: true
      responses:
        '200':
          description: passkey challenge issued
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartLoginResponse'
              example:
                user_id: 018c5b6e-0000-7000-0000-000000000001
                options:
                  publicKey:
                    challenge: base64-challenge
                    rpId: hound.chat
                    timeout: 60000
                    allowCredentials: []
        '400':
          description: no active login session found
        '422':
          description: malformed login email
        '500':
          description: failed to create login session
  /auth/register/finish:
    post:
      tags:
      - auth
      summary: Completes the ceremony to register a user to hound.chat
      operationId: finish_register
      requestBody:
        description: Passkey credential and user details to complete registration
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FinishRegisterRequest'
            example:
              user_id: 018c5b6e-0000-7000-0000-000000000001
              name: Aoife
              credential:
                id: credential-id
                type: public-key
                response:
                  clientDataJSON: base64
                  attestationObject: base64
        required: true
      responses:
        '200':
          description: signup completed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FinishLoginResponse'
        '400':
          description: no active registration session found
        '422':
          description: malformed registration response
        '500':
          description: failed to complete registration
  /auth/register/start:
    post:
      tags:
      - auth
      summary: Begins the ceremony to register a user to hound.chat
      operationId: start_register
      requestBody:
        description: User email and device display name for passkey registration
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartRegisterRequest'
        required: true
      responses:
        '200':
          description: Registration challenge generated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartRegisterResponse'
              example:
                options:
                  publicKey:
                    challenge: base64-challenge
                    rp:
                      id: hound.chat
                      name: hound.chat
                    timeout: 60000
                user_id: 018c5b6e-0000-7000-0000-000000000001
        '422':
          description: Invalid request body
        '500':
          description: Internal server error
  /auth/token/refresh:
    post:
      tags:
      - auth
      summary: Refresh JWT token endpoint - Uses middleware to validate refresh token
      operationId: refresh_token
      responses:
        '200':
          description: new access token issued
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RefreshTokenResponse'
        '401':
          description: invalid refresh token
        '500':
          description: internal server error
      security:
      - refreshToken: []
  /auth/token/revoke:
    post:
      tags:
      - auth
      summary: Revoke refresh token endpoint
      operationId: revoke_token
      responses:
        '200':
          description: token revoked
        '401':
          description: Invalid token
        '500':
          description: failed to revoke refresh token
      security:
      - token: []
  /auth/token/validate:
    get:
      tags:
      - auth
      summary: Validates an access token and returns success if it is valid.
      operationId: validate_token
      responses:
        '200':
          description: access token validated
        '401':
          description: access token is invalid or expired
        '500':
          description: token validation failed
      security:
      - token: []
  /community:
    get:
      tags:
      - community
      summary: Retrieves all communities.
      operationId: get_communities
      parameters:
      - name: per_page
        in: query
        description: Maximum number of results per page (capped at 80)
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: page
        in: query
        description: Page number to retrieve (0-indexed)
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      responses:
        '200':
          description: list of user's communities
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Page_CommunityModel'
        '422':
          description: invalid pagination parameters
        '500':
          description: couldn't list communities
      security:
      - token: []
    post:
      tags:
      - community
      summary: Creates a new community with default general and voice spaces.
      operationId: post_community
      requestBody:
        description: Name for the new community
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostCommunityRequest'
        required: true
      responses:
        '200':
          description: new community created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunityModel'
        '422':
          description: invalid community name
        '500':
          description: failed to create community
      security:
      - token: []
    delete:
      tags:
      - community
      summary: 'Deletes a community with the given ID. TODO: verify user has permissions to delete community'
      operationId: delete_community
      parameters:
      - name: id
        in: query
        description: The ID of the community to delete
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: community deleted
        '422':
          description: invalid community ID parameter
        '500':
          description: couldn't delete community
      security:
      - token: []
  /community/join:
    put:
      tags:
      - community
      summary: Joins the authenticated user to a community.
      operationId: join_community
      parameters:
      - name: id
        in: query
        description: The ID of the community to join
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: community joined
        '422':
          description: invalid join request parameters
        '500':
          description: couldn't join community
      security:
      - token: []
  /community/leave:
    delete:
      tags:
      - community
      summary: Removes the authenticated user from a community.
      operationId: leave_community
      parameters:
      - name: id
        in: query
        description: The ID of the community to leave
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: community left
        '422':
          description: invalid leave request parameters
        '500':
          description: couldn't leave community
      security:
      - token: []
  /community/members:
    get:
      tags:
      - community
      summary: Lists members of a community.
      operationId: get_community_members
      parameters:
      - name: per_page
        in: query
        description: Max members per page (capped at 80)
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: page
        in: query
        description: Members page number (0-indexed)
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: id
        in: query
        description: The community ID to list members for
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: list of community members
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Page_CommunityMemberModel'
        '422':
          description: invalid members query parameters
        '500':
          description: failed to list community members
      security:
      - token: []
  /community/{id}:
    get:
      tags:
      - community
      summary: Retrieves a community by ID.
      operationId: get_community
      parameters:
      - name: id
        in: path
        description: The community ID
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: community found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunityModel'
        '404':
          description: community not found
        '422':
          description: invalid community ID format
        '500':
          description: couldn't find community
      security:
      - token: []
  /community/{id}/profile:
    get:
      tags:
      - community
      summary: Retrieves the authenticated user's profile within a community.
      operationId: get_community_profile
      parameters:
      - name: id
        in: path
        description: The ID of the community to retrieve the profile for
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: the user's profile in this community
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetCommunityProfileResponse'
        '403':
          description: user is not a member of this community
        '422':
          description: invalid community profile request
        '500':
          description: couldn't retrieve community profile
      security:
      - token: []
  /profile/global:
    get:
      tags:
      - profile
      summary: Retrieves a user's global profile by user ID.
      operationId: get_global_profile
      parameters:
      - name: id
        in: query
        description: The ID of the user to look up
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: The user's global profile
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileResponse'
      security:
      - token: []
  /space:
    get:
      tags:
      - space
      summary: Lists all spaces within a community.
      operationId: get_community_spaces
      parameters:
      - name: per_page
        in: query
        description: Max spaces per page (capped at 80)
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: page
        in: query
        description: Spaces page number (0-indexed)
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: id
        in: query
        description: The community ID to list spaces for
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: list of community spaces
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Page_CompleteCommunitySpace'
        '422':
          description: invalid spaces query parameters
        '500':
          description: couldn't find spaces
      security:
      - token: []
    post:
      tags:
      - space
      summary: Creates a new space within a community.
      operationId: post_community_space
      requestBody:
        description: Community ID, name, and kind for the new space
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostCommunitySpaceRequest'
        required: true
      responses:
        '200':
          description: new space created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunitySpaceMessageModel'
        '422':
          description: invalid space creation request
        '500':
          description: couldn't create space
      security:
      - token: []
    delete:
      tags:
      - space
      summary: Deletes a community space by ID.
      operationId: delete_community_space
      parameters:
      - name: id
        in: query
        description: The ID of the space to delete
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: community space deleted
        '422':
          description: invalid space ID parameter
        '500':
          description: couldn't delete space
      security:
      - token: []
  /space/{id}:
    get:
      tags:
      - space
      summary: Retrieves a community space by ID.
      operationId: get_community_space
      parameters:
      - name: id
        in: path
        description: The space ID
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: community space returned
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompleteCommunitySpace'
        '422':
          description: invalid space ID format
        '500':
          description: couldn't find space
      security:
      - token: []
  /space/{space_id}/message:
    get:
      tags:
      - space
      summary: Retrieves messages from a community space.
      operationId: get_community_space_messages
      parameters:
      - name: space_id
        in: path
        description: The ID of the space to retrieve messages from
        required: true
        schema:
          type: string
          format: uuid
      - name: per_page
        in: query
        description: Max messages per page (capped at 80)
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: page
        in: query
        description: Messages page number (0-indexed)
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      responses:
        '200':
          description: list of messages
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Page_CommunitySpaceMessageResponse'
      security:
      - token: []
    post:
      tags:
      - space
      summary: Post a new message to a community space
      operationId: post_community_space_message
      parameters:
      - name: space_id
        in: path
        description: The ID of the space to post the message to
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        description: Message content to post
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostCommunitySpaceMessageRequest'
        required: true
      responses:
        '200':
          description: message posted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommunitySpaceMessageResponse'
        '422':
          description: invalid message request body
        '500':
          description: couldn't post message
      security:
      - token: []
  /user/community:
    get:
      tags:
      - user
      summary: Lists communities the authenticated user belongs to.
      operationId: get_user_communities
      parameters:
      - name: per_page
        in: query
        description: Max joined communities per page (capped at 80)
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      - name: page
        in: query
        description: Joined communities page number (0-indexed)
        required: false
        schema:
          type: integer
          format: int64
          minimum: 0
      responses:
        '200':
          description: communities the authenticated user has joined
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Page_CommunityModel'
        '422':
          description: invalid user community query
        '500':
          description: failed to list user communities
      security:
      - token: []
components:
  schemas:
    CommunityMemberModel:
      type: object
      description: A member of a community
      required:
      - id
      properties:
        id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
    CommunityModel:
      type: object
      description: A community and its spaces
      required:
      - id
      - name
      - default_space
      - spaces
      properties:
        default_space:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
        id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
        name:
          type: string
          example: My Community
        spaces:
          $ref: '#/components/schemas/Page_CommunitySpaceModel'
    CommunitySpaceKind:
      type: string
      description: The type of a community space
      enum:
      - Text
      - Voice
      example: Text
    CommunitySpaceMessageModel:
      type: object
      description: A message posted in a community space
      required:
      - id
      - user_id
      - contents
      properties:
        contents:
          type: string
          example: Domhran dia duit!
        id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
        user_id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
    CommunitySpaceMessageResponse:
      type: object
      description: A community space message with sender and space context
      required:
      - id
      - space_id
      - user_id
      - contents
      properties:
        contents:
          type: string
          example: Domhran dia duit!
        id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
        space_id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
        user_id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
    CompleteCommunitySpace:
      type: object
      description: A community space
      required:
      - id
      - community_id
      - name
      - kind
      properties:
        community_id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
        id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
        kind:
          $ref: '#/components/schemas/CommunitySpaceKind'
        name:
          type: string
          example: general
    FinishLoginRequest:
      type: object
      description: Request body for completing passkey login
      required:
      - user_id
      - credential
      properties:
        credential:
          type: object
          description: An opaque object representing the completed challenge from the client for verifying a passkey.
          examples:
          - id: credential-id
            type: public-key
            response:
              clientDataJSON: base64
              authenticatorData: base64
              signature: base64
        user_id:
          type: string
          format: uuid
          description: The user's ID.
    FinishLoginResponse:
      type: object
      description: Response body for a successful login or registration
      required:
      - access_token
      - refresh_token
      - user_id
      - access_token_expires_in
      - refresh_token_expires_in
      - profile
      properties:
        access_token:
          type: string
          description: The encoded JWT access token.
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMThjNWI2ZS0wMDAwLTcwMDAtMDAwMC0wMDAwMDAwMDAwMDEifQ.example
        access_token_expires_in:
          type: integer
          format: int64
          description: Seconds until the access token expires.
          example: 2700
        profile:
          $ref: '#/components/schemas/ProfileResponse'
          description: The logged-in user's global profile.
        refresh_token:
          type: string
          description: The encoded JWT refresh token.
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMThjNWI2ZS0wMDAwLTcwMDAtMDAwMC0wMDAwMDAwMDAwMDEiLCJ0eXAiOiJyZWZyZXNoIn0.example
        refresh_token_expires_in:
          type: integer
          format: int64
          description: Seconds until the refresh token expires.
          example: 604800
        user_id:
          type: string
          format: uuid
          description: The ID of the successfully authenticated user.
          example: 018c5b6e-0000-7000-0000-000000000001
    FinishRegisterRequest:
      type: object
      description: Request body for completing passkey registration
      required:
      - user_id
      - name
      - credential
      properties:
        credential:
          type: object
          description: An opaque object representing the completed challenge from the client for creating a passkey.
          examples:
          - id: credential-id
            type: public-key
            response:
              clientDataJSON: base64
              attestationObject: base64
        name:
          type: string
          description: The (potential) display name for the user, not assigned until completion.
        user_id:
          type: string
          format: uuid
          description: The (potential) ID of the user, not assigned until completion.
    GetCommunityProfileResponse:
      type: object
      description: A user's profile within a community
      required:
      - id
      - user_id
      - community_id
      properties:
        community_id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
        id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
        user_id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
    Page_CommunityMemberModel:
      type: object
      description: A paginated list of items
      required:
      - contents
      - current
      - next
      - prev
      - total
      properties:
        contents:
          type: array
          items:
            type: object
            description: A member of a community
            required:
            - id
            properties:
              id:
                type: string
                format: uuid
                example: 018c5b6e-0000-7000-0000-000000000001
          example: []
        current:
          type: integer
          format: int64
          example: 0
          minimum: 0
        next:
          type: integer
          format: int64
          example: 1
          minimum: 0
        prev:
          type: integer
          format: int64
          example: 0
          minimum: 0
        total:
          type: integer
          format: int64
          example: 1
          minimum: 0
    Page_CommunityModel:
      type: object
      description: A paginated list of items
      required:
      - contents
      - current
      - next
      - prev
      - total
      properties:
        contents:
          type: array
          items:
            type: object
            description: A community and its spaces
            required:
            - id
            - name
            - default_space
            - spaces
            properties:
              default_space:
                type: string
                format: uuid
                example: 018c5b6e-0000-7000-0000-000000000001
              id:
                type: string
                format: uuid
                example: 018c5b6e-0000-7000-0000-000000000001
              name:
                type: string
                example: My Community
              spaces:
                $ref: '#/components/schemas/Page_CommunitySpaceModel'
          example: []
        current:
          type: integer
          format: int64
          example: 0
          minimum: 0
        next:
          type: integer
          format: int64
          example: 1
          minimum: 0
        prev:
          type: integer
          format: int64
          example: 0
          minimum: 0
        total:
          type: integer
          format: int64
          example: 1
          minimum: 0
    Page_CommunitySpaceMessageResponse:
      type: object
      description: A paginated list of items
      required:
      - contents
      - current
      - next
      - prev
      - total
      properties:
        contents:
          type: array
          items:
            type: object
            description: A community space message with sender and space context
            required:
            - id
            - space_id
            - user_id
            - contents
            properties:
              contents:
                type: string
                example: Domhran dia duit!
              id:
                type: string
                format: uuid
                example: 018c5b6e-0000-7000-0000-000000000001
              space_id:
                type: string
                format: uuid
                example: 018c5b6e-0000-7000-0000-000000000001
              user_id:
                type: string
                format: uuid
                example: 018c5b6e-0000-7000-0000-000000000001
          example: []
        current:
          type: integer
          format: int64
          example: 0
          minimum: 0
        next:
          type: integer
          format: int64
          example: 1
          minimum: 0
        prev:
          type: integer
          format: int64
          example: 0
          minimum: 0
        total:
          type: integer
          format: int64
          example: 1
          minimum: 0
    Page_CommunitySpaceModel:
      type: object
      description: A paginated list of items
      required:
      - contents
      - current
      - next
      - prev
      - total
      properties:
        contents:
          type: array
          items:
            type: object
            description: A space within a community
            required:
            - id
            - name
            - kind
            properties:
              id:
                type: string
                format: uuid
                example: 018c5b6e-0000-7000-0000-000000000001
              kind:
                $ref: '#/components/schemas/CommunitySpaceKind'
              name:
                type: string
                example: general
          example: []
        current:
          type: integer
          format: int64
          example: 0
          minimum: 0
        next:
          type: integer
          format: int64
          example: 1
          minimum: 0
        prev:
          type: integer
          format: int64
          example: 0
          minimum: 0
        total:
          type: integer
          format: int64
          example: 1
          minimum: 0
    Page_CompleteCommunitySpace:
      type: object
      description: A paginated list of items
      required:
      - contents
      - current
      - next
      - prev
      - total
      properties:
        contents:
          type: array
          items:
            type: object
            description: A community space
            required:
            - id
            - community_id
            - name
            - kind
            properties:
              community_id:
                type: string
                format: uuid
                example: 018c5b6e-0000-7000-0000-000000000001
              id:
                type: string
                format: uuid
                example: 018c5b6e-0000-7000-0000-000000000001
              kind:
                $ref: '#/components/schemas/CommunitySpaceKind'
              name:
                type: string
                example: general
          example: []
        current:
          type: integer
          format: int64
          example: 0
          minimum: 0
        next:
          type: integer
          format: int64
          example: 1
          minimum: 0
        prev:
          type: integer
          format: int64
          example: 0
          minimum: 0
        total:
          type: integer
          format: int64
          example: 1
          minimum: 0
    PostCommunityRequest:
      type: object
      description: Request body for creating a new community
      required:
      - name
      properties:
        name:
          type: string
          description: The display name for the new community
          example: My Community
    PostCommunitySpaceMessageRequest:
      type: object
      description: Request body for posting a message to a community space
      required:
      - contents
      properties:
        contents:
          type: string
          description: The text content of the message
          example: Hello, world!
    PostCommunitySpaceRequest:
      type: object
      description: Request body for creating a new community space
      required:
      - id
      - name
      - kind
      properties:
        id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
        kind:
          $ref: '#/components/schemas/CommunitySpaceKind'
        name:
          type: string
          example: general
    ProfileResponse:
      type: object
      description: A user's profile
      required:
      - id
      - user_id
      - name
      properties:
        id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
        name:
          type: string
          example: Aoife
        user_id:
          type: string
          format: uuid
          example: 018c5b6e-0000-7000-0000-000000000001
    RefreshTokenResponse:
      type: object
      description: Response body containing a new access token and refresh token
      required:
      - access_token
      - expires_in
      - refresh_token
      properties:
        access_token:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMThjNWI2ZS0wMDAwLTcwMDAtMDAwMC0wMDAwMDAwMDAwMDEifQ.example
        expires_in:
          type: integer
          format: int64
          example: 2700
          minimum: 0
        refresh_token:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMThjNWI2ZS0wMDAwLTcwMDAtMDAwMC0wMDAwMDAwMDAwMDEiLCJ0eXAiOiJyZWZyZXNoIn0.example
    StartLoginRequest:
      type: object
      description: Request body for starting passkey login
      required:
      - email
      properties:
        email:
          type: string
          description: The user's email address.
          example: user@hound.chat
    StartLoginResponse:
      type: object
      description: Response body for starting passkey login
      required:
      - user_id
      - options
      properties:
        options:
          type: object
          description: An opaque object representing the challenge from the server for passkey verification.
          examples:
          - publicKey:
              challenge: base64-challenge
              rpId: hound.chat
              timeout: 60000
              allowCredentials: []
        user_id:
          type: string
          format: uuid
          description: The user ID required to complete the passkey ceremony.
          example: 018c5b6e-0000-7000-0000-000000000001
    StartRegisterRequest:
      type: object
      description: Request body for starting passkey registration
      required:
      - email
      - display_name
      properties:
        display_name:
          type: string
          description: The name of the device that user is registering to their account.
          example: MacBook Pro
        email:
          type: string
          description: The user's email address used for verification.
          example: user@hound.chat
    StartRegisterResponse:
      type: object
      description: Response body for starting passkey registration
      required:
      - options
      - user_id
      properties:
        options:
          type: object
          description: An opaque object representing the challenge from the server for passkey creation.
          examples:
          - publicKey:
              challenge: base64-challenge
              rpId: hound.chat
              timeout: 60000
        user_id:
          type: string
          format: uuid
          description: The provisional user ID to supply when finishing registration.
    WebAuthnResponse:
      type: object
      description: WebAuthn relying party configuration
      required:
      - rp_id
      - origins
      properties:
        origins:
          type: array
          items:
            type: string
            format: uri
          example:
          - https://hound.chat
        rp_id:
          type: string
          example: hound.chat
  securitySchemes:
    refreshToken:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT refresh token used to obtain a new access token
    token:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT access token for authenticating API requests
tags:
- name: auth
  description: Auth API endpoints
- name: community
  description: Community API endpoints
- name: profile
  description: Profile endpoints
- name: space
  description: Community space endpoints
- name: well-known
  description: .well-known endpoints
- name: user
  description: User endpoints

